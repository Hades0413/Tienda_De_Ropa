let productos=[];fetch("./js/productos.json").then((o=>o.json())).then((o=>{productos=o,cargarProductos(productos)}));const contenedorProductos=document.querySelector("#contenedor-productos"),botonesCategorias=document.querySelectorAll(".boton-categoria"),tituloPrincipal=document.querySelector("#titulo-principal");let botonesAgregar=document.querySelectorAll(".producto-agregar");const numerito=document.querySelector("#numerito");function cargarProductos(o){contenedorProductos.innerHTML="",o.forEach((o=>{const r=document.createElement("div");r.classList.add("producto"),r.innerHTML=`\n            <img class="producto-imagen" src="${o.imagen}" alt="${o.titulo}">\n            <div class="producto-detalles">\n                <h3 class="producto-titulo">${o.titulo}</h3>\n                <p class="producto-precio">$${o.precio}</p>\n                <button class="producto-agregar" id="${o.id}">Agregar</button>\n            </div>\n        `,contenedorProductos.append(r)})),actualizarBotonesAgregar()}function actualizarBotonesAgregar(){botonesAgregar=document.querySelectorAll(".producto-agregar"),botonesAgregar.forEach((o=>{o.addEventListener("click",agregarAlCarrito)}))}let productosEnCarrito;cargarProductos(productos),botonesCategorias.forEach((o=>{o.addEventListener("click",(o=>{if(botonesCategorias.forEach((o=>o.classList.remove("active"))),o.currentTarget.classList.add("active"),"todos"!=o.currentTarget.id){const r=productos.find((r=>r.categoria.id===o.currentTarget.id));tituloPrincipal.innerText=r.categoria.nombre;cargarProductos(productos.filter((r=>r.categoria.id===o.currentTarget.id)))}else tituloPrincipal.innerText="Todos los productos",cargarProductos(productos)}))}));let productosEnCarritoLS=localStorage.getItem("productos-en-carrito");function agregarAlCarrito(o){Toastify({text:"Producto agregado",duration:3e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, #232324, #232324)",borderRadius:"2rem",textTransform:"uppercase",fontSize:".75rem"},offset:{x:"1.5rem",y:"1.5rem"},onClick:function(){}}).showToast();const r=o.currentTarget.id,t=productos.find((o=>o.id===r));if(productosEnCarrito.some((o=>o.id===r))){const o=productosEnCarrito.findIndex((o=>o.id===r));productosEnCarrito[o].cantidad++}else t.cantidad=1,productosEnCarrito.push(t);actualizarNumerito(),localStorage.setItem("productos-en-carrito",JSON.stringify(productosEnCarrito))}function actualizarNumerito(){let o=productosEnCarrito.reduce(((o,r)=>o+r.cantidad),0);numerito.innerText=o}productosEnCarritoLS?(productosEnCarrito=JSON.parse(productosEnCarritoLS),actualizarNumerito()):productosEnCarrito=[];